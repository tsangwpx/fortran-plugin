<idea-plugin>
    <id>org.jetbrains.fortran</id>
    <name>Fortran</name>
    <version>1.4.0</version>
    <vendor url="https://github.com/satamas/fortran-plugin"/>

    <description><![CDATA[
      Fortran language support<br>
      The plugin supports FORTRAN 77, FORTRAN 90, FORTRAN 95, FORTRAN 2003 and FORTRAN 2008 source code.
      Several nonstandard extensions are also supported.
      Lexer, parser, syntax highlighter, commenter, formatter, folding, navigation, structure view, brace matcher and some inspections are provided.
    ]]></description>

    <change-notes><![CDATA[
      09.2017 Structure view, brace matcher and some inspections added. <br>
      08.2017 Navigation added.<br>
      07.2017 Folding added<br>
      06.2017 Commenter and Formatter added.<br>
      05.2017 First version of the plugin with lexer, parser and simple highlighter.<br>
    ]]>
    </change-notes>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/build_number_ranges.html for description -->
    <idea-version since-build="171.0"/>

    <depends optional="true" config-file="clion-only.xml">com.intellij.modules.clion</depends>
    <depends>com.intellij.modules.lang</depends>


    <project-components>
        <component>
            <implementation-class>org.jetbrains.fortran.ide.FortranCodeModificationListener</implementation-class>
        </component>
    </project-components>

    <extensions defaultExtensionNs="com.intellij">
        <fileTypeFactory implementation="org.jetbrains.fortran.FortranFileTypeFactory"/>
        <lang.parserDefinition language="Fortran" implementationClass="org.jetbrains.fortran.lang.parser.FortranParserDefinition"/>
        <lang.syntaxHighlighterFactory language="Fortran"
                                       implementationClass="org.jetbrains.fortran.ide.highlighter.FortranSyntaxHighlighterFactory"/>
        <!-- fixed form source-->
        <fileTypeFactory implementation="org.jetbrains.fortran.FortranFixedFormFileTypeFactory"/>
        <lang.parserDefinition language="Fortran fixed form" implementationClass="org.jetbrains.fortran.lang.parser.FortranFixedFormParserDefinition"/>
        <lang.syntaxHighlighterFactory language="Fortran fixed form"
                                       implementationClass="org.jetbrains.fortran.ide.highlighter.FortranFixedFormSyntaxHighlighterFactory"/>
        <stubElementTypeHolder class="org.jetbrains.fortran.lang.FortranTypes"/>

        <!-- Color Settings -->
        <colorSettingsPage implementation="org.jetbrains.fortran.ide.highlighter.FortranColorSettingsPage"/>

        <!-- Annotator -->
        <annotator language="Fortran" implementationClass="org.jetbrains.fortran.ide.annotator.FortranHighlightingAnnotator"/>
        <annotator language="Fortran" implementationClass="org.jetbrains.fortran.ide.annotator.FortranErrorAnnotator"/>
        <!-- Formatter -->
        <lang.formatter language="Fortran" implementationClass="org.jetbrains.fortran.ide.formatter.FortranFormattingModelBuilder"/>
        <lang.formatter language="Fortran fixed form" implementationClass="org.jetbrains.fortran.ide.formatter.FortranFixedFormFormattingModelBuilder"/>
        <codeStyleSettingsProvider implementation="org.jetbrains.fortran.ide.formatter.settings.FortranCodeStyleSettingsProvider"/>
        <langCodeStyleSettingsProvider implementation="org.jetbrains.fortran.ide.formatter.settings.FortranLanguageCodeStyleSettingsProvider"/>
        <!-- Commenter -->
        <lang.commenter language="Fortran" implementationClass="org.jetbrains.fortran.ide.commenter.FortranCommenter"/>
        <lang.commenter language="Fortran fixed form" implementationClass="org.jetbrains.fortran.ide.commenter.FortranFixedFormCommenter"/>

        <!-- Matchers -->
        <lang.braceMatcher language="Fortran" implementationClass="org.jetbrains.fortran.ide.typing.FortranBraceMatcher"/>
        <enterHandlerDelegate implementation="org.jetbrains.fortran.ide.typing.FortranEnterHandler"/>
        <!-- Folding -->
        <lang.foldingBuilder language="Fortran" implementationClass="org.jetbrains.fortran.ide.folding.FortranFoldingBuilder"/>

        <!-- Navigation -->
        <lang.findUsagesProvider language="Fortran"
                                 implementationClass="org.jetbrains.fortran.ide.findUsages.FortranFindUsagesProvider"/>
        <usageTypeProvider implementation="org.jetbrains.fortran.ide.findUsages.FortranUsageTypeProvider"/>
        <findUsagesHandlerFactory implementation="org.jetbrains.fortran.ide.findUsages.FortranFindUsagesHandlerFactory"/>

        <!-- Structure View -->
        <lang.psiStructureViewFactory language="Fortran"
                                      implementationClass="org.jetbrains.fortran.ide.structure.FortranPsiStructureViewFactory"/>

        <!-- Indices -->
        <stubIndex implementation="org.jetbrains.fortran.lang.stubs.index.FortranNamedElementIndex"/>

        <!-- Inspections -->
        <lang.inspectionSuppressor language="Fortran"
                                   implementationClass="org.jetbrains.fortran.ide.inspections.FortranInspectionSuppressor"/>

        <localInspection language="Fortran" groupName="Fortran"
                         displayName="Unresolved label"
                         enabledByDefault="true" level="ERROR"
                         applyToDialects="true"
                         implementationClass="org.jetbrains.fortran.ide.inspections.FortranUnresolvedLabelInspection"/>

        <localInspection language="Fortran" groupName="Fortran"
                         displayName="Construct name mismatch"
                         enabledByDefault="true" level="ERROR"
                         applyToDialects="true"
                         implementationClass="org.jetbrains.fortran.ide.inspections.FortranConstructNameMismatchInspection"/>

        <localInspection language="Fortran" groupName="Fortran"
                         displayName="Program unit name mismatch"
                         enabledByDefault="true" level="ERROR"
                         applyToDialects="true"
                         implementationClass="org.jetbrains.fortran.ide.inspections.FortranProgramUnitNameMismatchInspection"/>

        <localInspection language="Fortran" groupName="Fortran"
                         displayName="Statements order"
                         enabledByDefault="true" level="ERROR"
                         applyToDialects="true"
                         implementationClass="org.jetbrains.fortran.ide.inspections.FortranStmtOrderInspection"/>

        <localInspection language="Fortran" groupName="Fortran"
                         displayName="Unused label"
                         enabledByDefault="true" level="WEAK WARNING"
                         applyToDialects="true"
                         implementationClass="org.jetbrains.fortran.ide.inspections.FortranUnusedLabelInspection"/>

        <localInspection language="Fortran" groupName="Fortran"
                         displayName="Unused construct name"
                         enabledByDefault="true" level="WEAK WARNING"
                         applyToDialects="true"
                         implementationClass="org.jetbrains.fortran.ide.inspections.FortranUnusedConstructNameInspection"/>

    </extensions>

    <actions>
        <action id="Fortran.NewFortranFile"
                class="org.jetbrains.fortran.ide.actions.FortranCreateFileAction"
                text="Fortran File"
                description="Create new Fortran file">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
        </action>
    </actions>

</idea-plugin>